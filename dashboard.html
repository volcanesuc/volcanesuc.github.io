<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard ‚Äì Volcanes Ultimate</title>

  <script>document.documentElement.classList.add("preload");</script>
  <style>
    html.preload, html.preload body { background:#0b0b0c; margin:0; }
    /* oculta contenido pero NO el loader */
    html.preload body > :not(#volcanesLoadingOverlay) { visibility: hidden; }

    #volcanesLoadingOverlay{
      position:fixed; inset:0;
      display:flex; align-items:center; justify-content:center;
      z-index:99999;
      background: rgba(0,0,0,0.88);
      backdrop-filter: blur(2px);
      -webkit-backdrop-filter: blur(2px);
    }
    #volcanesLoadingOverlay .loader-card{
      display:flex; flex-direction:column; align-items:center; gap:14px;
      padding:18px 20px; border-radius:16px;
      background: rgba(10,10,12,0.38);
      box-shadow: 0 12px 34px rgba(0,0,0,0.46);
      border: 1px solid rgba(255,255,255,0.06);
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    }
    #volcanesLoadingOverlay .loader{ width:96px; height:96px; }
    #volcanesLoadingOverlay svg{ width:100%; height:100%; }
    #volcanesLoadingOverlay .disc{ fill:#19473f; }
    #volcanesLoadingOverlay .inner-ring{ fill:none; stroke:#fff; stroke-width:3; opacity:.92; }
    #volcanesLoadingOverlay .star{
      fill:#e8ce26;
      transform-origin:32px 32px;
      animation: loader-spin 3s linear infinite;
    }
    @keyframes loader-spin { to { transform: rotate(360deg); } }
    #volcanesLoadingOverlay .loader-text{
      font-size:.98rem; color: rgba(255,255,255,0.86);
      text-align:center; max-width:320px;
    }
  </style>

  <script src="/js/ui/loader.preload.js"></script>

  <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">
  <!-- Bootstrap -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <!-- Estilos -->
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="/css/dashboard.css" />
</head>

<body class="loading">

  <div id="volcanesLoadingOverlay" aria-hidden="false">
    <div class="loader-card" role="status" aria-live="polite" aria-label="Cargando">
      <div class="loader" aria-hidden="true">
        <svg viewBox="0 0 64 64">
          <circle cx="32" cy="32" r="28" class="disc"></circle>
          <circle cx="32" cy="32" r="23" class="inner-ring"></circle>
          <path class="star"
            d="M32 18
               L36 27
               L46 28
               L39 35
               L41 45
               L32 40
               L23 45
               L25 35
               L18 28
               L28 27 Z"></path>
        </svg>
      </div>
      <div class="loader-text" id="volcanesLoadingOverlayMessage">Cargando‚Ä¶</div>
    </div>
  </div>

  <!-- HEADER -->
  <div id="app-header"></div>

  <!-- CONTENIDO -->
  <main class="container py-4 dashboard-page">

    <!-- ================= KPIs ================= -->
    <section class="mb-4">
      <div class="row g-3">

        <div class="col-12 col-md-4">
          <div class="kpi-box h-100">
            <div class="kpi-value" id="kpiActivePlayers">‚Äî</div>
            <div class="kpi-label">Jugadores activos</div>
          </div>
        </div>

        <div class="col-12 col-md-4">
          <div class="kpi-box h-100">
            <div class="kpi-value" id="kpiAvgAttendance">‚Äî</div>
            <div class="kpi-label">Asistencia promedio</div>
          </div>
        </div>

        <div class="col-12 col-md-4">
          <div class="kpi-box h-100">
            <div class="kpi-value" id="kpiTrainingsCount">‚Äî</div>
            <div class="kpi-label">Entrenamientos realizados</div>
          </div>
        </div>

      </div>
    </section>

    <!-- ================= BLOQUE CENTRAL ================= -->
    <section class="mb-4">
      <div class="row g-4">

        <!-- ALERTAS -->
        <div class="col-12 col-lg-8">
          <div class="alerts-card h-100">
            <h3 class="mb-3">üö® Alertas del club</h3>
            <div id="alertsList" class="alerts-list">
              <li class="list-group-item text-muted">
                Cargando alertas‚Ä¶
              </li>
            </div>
          </div>
        </div>

        <!-- PR√ìXIMO TORNEO -->
        <div class="col-12 col-lg-4">
          <a id="nextTournamentCard" class="next-tournament-card h-100 text-center d-block text-decoration-none" href="#">
            <h3 class="mb-3">üèÜ Pr√≥ximo torneo</h3>
            <p class="t-date mb-1" id="nextTournamentDate">Cargando‚Ä¶</p>
            <p class="t-name mb-0" id="nextTournamentName">‚Äî</p>
          </a>
        </div>

      </div>
    </section>

    <!-- ================= CUMPLEA√ëOS ================= -->
    <section class="mb-5">
      <div class="birthdays-card">
        <h3 class="mb-3">üéÇ Cumplea√±eros del mes</h3>
        <div id="birthdaysList">
          Cargando‚Ä¶
        </div>
      </div>
    </section>

  </main>

  <!-- FOOTER -->
  <footer class="text-center text-muted pb-3">
    <small id="appVersion">v‚Äî</small>
  </footer>



  <!-- SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script type="module" src="/js/dashboard.js"></script>
  <script src="/js/layout.js" defer></script>

</body>
</html>
