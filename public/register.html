<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Registro de miembro — Volcanes</title>
  <script>document.documentElement.classList.add("preload");</script>
  <script src="/js/ui/loader.preload.js"></script>

  <base href="/" />

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- Estilos Volcanes -->
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="/css/dashboard.css" />

  <style>
    /* pequeño ajuste para que el form se sienta “dashboard” */
    .form-page {
      padding: 1.25rem 0 2.5rem;
    }
    .form-card {
      max-width: 980px;
      margin: 0 auto;
    }
    .muted-help { color: var(--text-soft); font-size: .9rem; }
  </style>
</head>

<body class="loading">
  <!-- Header -->
  <div id="app-header"></div>

  <main class="container form-page">
    <div class="form-card card">
      <div class="card-body p-4 p-lg-5">
        <div class="d-flex flex-wrap align-items-start justify-content-between gap-3 mb-3">
          <div>
            <h1 class="page-title mb-1" style="font-family: var(--font-title); color: var(--club-green); font-weight: 900;">
              Registro de asociado
            </h1>
            <div class="muted-help">
              Completa tu información y adjunta el comprobante para procesar tu membresía.
            </div>
          </div>

          <div class="d-flex gap-2">
            <button id="googleBtn" class="btn btn-light d-flex align-items-center gap-2">
              <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" width="16" height="16" alt="Google">
              Ingresar con Google
            </button>
            <button id="logoutBtn" class="btn btn-outline-primary d-none">Salir</button>
          </div>
        </div>

        <div id="alertBox" class="alert d-none" role="alert"></div>

        <form id="registerForm" class="mt-4">
          <!-- Datos personales -->
          <div class="row g-3">
            <div class="col-12">
              <h3 class="mb-2" style="color: var(--club-green); font-weight: 900;">Datos personales</h3>
            </div>

            <div class="col-md-6">
              <label class="form-label">Nombre</label>
              <input id="firstName" class="form-control" required />
            </div>

            <div class="col-md-6">
              <label class="form-label">Apellido</label>
              <input id="lastName" class="form-control" required />
            </div>

            <div class="col-md-6">
              <label class="form-label">Fecha de nacimiento</label>
              <input id="birthDate" type="date" class="form-control" required />
            </div>

            <div class="col-md-3">
              <label class="form-label">Tipo de documento</label>
              <select id="idType" class="form-select" required>
                <option value="">Seleccionar…</option>
                <option value="cedula">Cédula</option>
                <option value="pasaporte">Pasaporte</option>
                <option value="dimex">DIMEX</option>
                <option value="otro">Otro</option>
              </select>
            </div>

            <div class="col-md-3">
              <label class="form-label">Número</label>
              <input id="idNumber" class="form-control" required />
            </div>

            <div class="col-md-6">
              <label class="form-label">Correo</label>
              <input id="email" type="email" class="form-control" placeholder="Se llena si ingresas con Google" required />
              <div class="muted-help mt-1">Si ingresas con Google, lo precargamos.</div>
            </div>
          </div>

          <hr class="my-4"/>

          <!-- Residencia -->
          <div class="row g-3">
            <div class="col-12">
              <h3 class="mb-2" style="color: var(--club-green); font-weight: 900;">Residencia</h3>
            </div>

            <div class="col-md-6">
              <label class="form-label">Provincia</label>
              <select id="province" class="form-select" required></select>
            </div>

            <div class="col-md-6">
              <label class="form-label">Cantón</label>
              <select id="canton" class="form-select" required></select>
            </div>
          </div>

          <hr class="my-4"/>

          <!-- Pago -->
          <div class="row g-3">
            <div class="col-12">
              <h3 class="mb-2" style="color: var(--club-green); font-weight: 900;">Pago de membresía</h3>
              <div class="muted-help">Selecciona un plan activo y adjunta el comprobante.</div>
            </div>

            <div class="col-md-8">
              <label class="form-label">Plan de pago</label>
              <select id="planId" class="form-select" required>
                <option value="">Cargando planes…</option>
              </select>
              <div id="planMeta" class="muted-help mt-2"></div>
            </div>

            <div class="col-md-4">
              <label class="form-label">Comprobante (imagen o PDF)</label>
              <input id="proofFile" type="file" class="form-control" accept="image/*,application/pdf" required />
            </div>
          </div>

          <hr class="my-4"/>

          <!-- Consentimientos (configurables) -->
          <div id="declarationWrap" class="form-check mb-3 d-none">
            <input id="infoDeclaration" class="form-check-input" type="checkbox">
            <label id="infoDeclarationLabel" class="form-check-label" for="infoDeclaration">
              Declaro bajo juramento que la información proporcionada es veraz y autorizo su uso para fines administrativos de la Asociación.
            </label>
          </div>

          <div id="termsWrap" class="form-check mb-3 d-none">
            <input id="termsAccepted" class="form-check-input" type="checkbox">
            <label class="form-check-label" for="termsAccepted">
              Acepto los términos y condiciones.
              <a id="termsLink" href="#" target="_blank" rel="noopener">Ver</a>
            </label>
          </div>

          <div class="d-flex flex-wrap gap-2 justify-content-end mt-4">
            <button id="submitBtn" type="submit" class="btn btn-primary px-4">
              Enviar registro
            </button>
          </div>
        </form>

        <div class="muted-help mt-4">
          * Tu registro queda en revisión hasta validar el comprobante.
        </div>
      </div>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script type="module" src="/js/auth/register.js"></script>
</body>
</html>
